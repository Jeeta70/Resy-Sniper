import{j as s,k as o,u as d,l as m,m as u,c as t,d as i,r as x}from"./index-ba846843.js";import{C as j,j as h,K as N}from"./index-d13487d7.js";import{i as g,S as p}from"./searchAndFilterSection-51cd2d57.js";import"./map-pin-7d0bc270.js";import"./index-30e236c2.js";function r({className:e,...a}){return s.jsx("div",{className:o("animate-pulse rounded-md bg-gray-300",e),...a})}const f=()=>{const e=[1,2,3,4,5,6,7,8,9,10,11,12];return s.jsx("div",{className:"grid grid-cols-4 gap-4",children:e.map(a=>s.jsxs(j,{className:"h-[42vh]",children:[s.jsx(r,{className:"rounded-t-lg h-1/2 w-full "}),s.jsxs(h,{children:[s.jsx(r,{className:"my-3 w-1/5 ",children:s.jsx(r,{className:"inline-block"})}),s.jsx(r,{className:"my-2",children:s.jsx(r,{className:"inline-block"})}),s.jsx(r,{className:"mb-3 w-1/3 ",children:s.jsx(r,{className:"inline-block"})})]}),s.jsxs(N,{className:"flex gap-3",children:[s.jsx(r,{className:"w-full h-1/2",children:s.jsx(r,{className:"inline-block"})}),s.jsx(r,{className:"w-full h-1/2",children:s.jsx(r,{className:"inline-block"})})]})]},a))})},y=({restaurants:e,sectionTitle:a})=>{const l=d();return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("h1",{className:"my-4 text-lg font-semibold	",children:a}),s.jsx("h1",{className:"my-4 text-primary",role:"button",onClick:()=>l("/restaurants/top-picks"),children:"See all"})]}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:e.map((n,c)=>s.jsx(g,{restaurant:n,layout:{displayFooter:!0}},c))})]})};function b(){const[e]=m(),a=e.get("query"),{data:l,isPending:n}=u({queryKey:["resturants",a],queryFn:()=>a?t.get(`${i}/restaurants/search?query=${encodeURI(a)}`):t.get(`${i}/restaurants/all`)});return{searchRestaurants:l,isLoading:n}}const q=()=>{const{searchRestaurants:e,isLoading:a}=b(),l=x.useMemo(()=>{if(!a)return(e==null?void 0:e.data)??[]},[a,e==null?void 0:e.data]);return s.jsxs("div",{className:"w-full h-screen p-10",children:[s.jsx("h1",{className:"font-bold text-2xl mb-4",children:"Restaurants"}),s.jsx(p,{}),s.jsx("div",{className:"mt-5",children:a&&s.jsx(f,{})}),!a&&s.jsx(y,{restaurants:l,sectionTitle:"All Restaurants"})]})};export{q as default};
